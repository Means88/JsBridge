<html>
  <head>
    <meta content="text/html; charset=utf-8" http-equiv="content-type">
      <title>
        js调用java
      </title>
  </head>
  <body>
    <xmp id="show"></xmp>
    <xmp id="init"></xmp>
    <input type="text" id="text1" value="用户名(username)" />
    <input type="text" id="text2" value="password" />
    <input type="button" id="enter" value="发消息给Native" onclick="CustomJavascript.testClick();"/>
    <input type="button" id="enter1" value="调用Native方法" onclick="CustomJavascript.testClick1();"/>
    <input type="button" id="enter2" value="显示html" onclick="CustomJavascript.testDiv();" />
    <input type="file" value="打开文件" />
  </body>
  <script>
    function connectWebViewJavascriptBridge (callback) {
      if (typeof(WebViewJavascriptBridge) != "undefined") {
        callback(WebViewJavascriptBridge)
      } else {
        document.addEventListener(
          'WebViewJavascriptBridgeReady',
          function () {
            callback(WebViewJavascriptBridge)
          },
          false
        );
      }
    }
    connectWebViewJavascriptBridge(function(bridge) {
      bridge.init(function(message, responseCallback) {
        console.log('JS got a message', message);
        var data = {
          'Javascript Responds': '测试中文!'
        };
        console.log('JS responding with', data);
        responseCallback(data);
      });
      bridge.registerHandler("functionInJs", function(data, responseCallback) {
        document.getElementById("show").innerHTML = ("data from Java: = " + data);
        var responseData = "Javascript Says Right back aka!";
        responseCallback(responseData);
      });
    })
  </script>
</html>